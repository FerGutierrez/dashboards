<form [formGroup]="chartForm" (ngSubmit)="createChart()">
  <h2>New Chart</h2>
  
  <h4>Name:</h4>
  <input type="text" formControlName="name" required class="form-control">

  <h4>Type:</h4>
  <select formControlName="type" class="form-control">
    <option
      *ngFor="let type of chartTypes$ | async"
      [value]="type"
    >{{ type }}</option>
  </select>

  <div formArrayName="series">
    <h4>
      Series 
      <button class="btn btn-primary" type="button" (click)="addSeries()">
        <span class="glyphicon glyphicon-plus"></span>
      </button>
    </h4>

    <div
      *ngFor="let series of series.controls; let i=index"
      [formGroupName]="i"
      class="form-inline series-row">
      <div class="form-group">
        <label>Name:</label>
        <input type="text" formControlName="name" class="form-control">
      </div>
      <div class="form-group">    
        <label>Data:</label>
        <input type="text" formControlName="data" class="form-control" placeholder="Comma-separated numbers">
      </div>
    </div>
  </div>
  
  <div class="text-center form-footer">
    <button class="btn btn-primary" type="submit" [disabled]="!chartForm.valid">Create</button>
  </div>
</form>  